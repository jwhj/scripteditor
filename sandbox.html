<html style="overflow:auto;position:absolute;left:0;top:0;right:0;bottom:0">
	<head>
		<meta http-equiv="Content-Type"content="text/html;charset=utf-8"/>
		<link rel="stylesheet"href="plm.css"/>
		<style>
			@font-face{
				font-family: DejaVuSansMono;
				src: url(DejaVuSansMono.ttf);
			}
			body{
				font-family: DejaVuSansMono;
				font-size: 15px;
			}
		</style>
		<script>
			console.log=s=>{
				if (s instanceof Error) s=s.toString()
				else if (typeof s=='object') s=JSON.stringify(s)
				document.body.innerHTML+=s+'<br/>'
			}
			addEventListener('message',e=>{
				document.body.innerHTML=''
				const startTime=new Date()
				const req=JSON.parse(e.data)
				try{
					if (req.lang=='javascript')
						(new Function(req.code))()
					else{
						var xhr=new XMLHttpRequest()
						xhr.open('POST','https://test-git-master.jwhj.now.sh/py/a.py',true)
						// xhr.open('POST','http://localhost:8081',true)
						xhr.send(req.code)
						xhr.onreadystatechange=()=>{
							if (xhr.readyState==4 && xhr.status==200){
								var res=decodeURIComponent(escape(xhr.responseText))
								console.log(res.replace(/\n/g,'<br/>').replace(/ /g,'&nbsp;'))
								console.log('<hr/>')
								console.log('Time: '+(new Date()-startTime)+'ms')
							}
						}
					}
				}catch(ex){
					console.log(ex)
				}
				if (req.lang=='javascript'){
					console.log('<hr/>')
					console.log('Time: '+(new Date()-startTime)+'ms')
				}
			})
		</script>
	</head>
	<body></body>
</html>
